<h4>{{ title }}</h4>
<form #formCoche="ngForm" (ngSubmit)="onSubmit();">
    <div class="form-group">
        <label>Marca:</label>
        <input type="text" name="marca" class="form-control"
               #marca="ngModel" [(ngModel)]="coche.marca"
               minlength="3" required>
        <div *ngIf="marca.invalid && (marca.dirty || marca.touched)" class="alert alert-danger">
            <div *ngIf="marca.errors.required">
                marca es requerido
            </div>
            <div *ngIf="marca.errors.minlength">
                marca debe tener al menos 3 caracteres
            </div>
        </div>
    </div>
    <div class="form-group">
        <label>Precio:</label>
        <input type="text" name="precio" class="form-control"
               #precio="ngModel" [(ngModel)]="coche.precio"
               pattern="[0-9.]+" required>
        <div *ngIf="precio.invalid && (precio.dirty || precio.touched)" class="alert alert-danger">
            <div *ngIf="precio.errors.required">
                precio es requerido
            </div>
            <div *ngIf="precio.errors.pattern">
                precio no es valido
            </div>
        </div>
    </div>
    <div class="form-group">
        <label>Color:</label>
        <input type="text" name="color" class="form-control"
               #color="ngModel" [(ngModel)]="coche.color"
               pattern="[#a-fA-F 0-9]+" required>
        <div *ngIf="color.invalid && (color.dirty || color.touched)" class="alert alert-danger">
            <div *ngIf="color.errors.required">
                color es requerido
            </div>
            <div *ngIf="color.errors.pattern">
                color no es valido
            </div>
        </div>
    </div>
    <!-- button type="submit" class="btn btn-primary">Guardar</button -->
    <input type="submit" class="btn btn-primary" value="Guardar"
           [disabled]='!formCoche.form.valid'/>
</form>
<hr/>
<h4>LISTADO DE COCHES</h4>
<table class="table">
    <thead>
        <tr>
            <th>MARCA</th>
            <th>PRECIO</th>
            <th>COLOR</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of coches">
            <td>{{ item.marca }}</td>
            <td>{{ item.precio }}</td>
            <td>{{ item.color }}</td>
        </tr>
    </tbody>
</table>
